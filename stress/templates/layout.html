{{ define "header" }}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ .title }}</title>
    <!-- semantic ui -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.css">

    <!-- jQuery -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Semantic ui -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.js"></script>
    <!-- 作成したjsファイル -->
    <!-- <script type="text/javascript" src="GetShout.js"></script> -->
    <!-- ここにセマンティックUIのCDN -->
</head>
{{end}}

{{ define "global-navigator" }}
<!-- ナビゲーションバーのHTMLをここに書く -->
<style media="screen">
    header{
        margin-bottom: 25px;
    }
</style>
<header>
    <nav class="ui secondary pointing menu top-munu">
        <p class="item">hogehoge app</p>
        <a href="/" class="item top-item p-top">トップページ</a>
        <a href="/shout" class="item top-item p-shout">叫ぶ</a>
        <a href="/register" class="item top-item p-register">新規登録</a>
        <a href="/login" class="item top-item p-login">ログイン</a>
        <a href="/post" class="item top-item p-post">新規投稿</a>
        <div class="right menu top-item">
            <a class="ui item p-logout">Logout</a>
            <a class="ui item p-login">login/新規登録</a>
        </div>
    </nav>
</header>
<script type="text/javascript">
    $(document).ready(function(){
        (function(){
            $(".top-munu").append(
                "<div class='right menu down'>"+
                    "<div class='ui dropdown down item'>Menu"+
                        "<i class='dropdown icon'></i>"+
                        "<div class='menu'>"+
                            "<a href='/' class='item'>トップページ</a>"+
                            "<a href='/shout' class='item'>叫ぶ</a>"+
                            "<a href='/register' class='item'>新規登録</a>"+
                            "<a href='/login' class='item'>ログイン</a>"+
                            "<a href='/post' class='item'>新規投稿</a>"+
                            "<a class='item'>Logout</a>"+
                            "<a class='item'>login/新規登録</a>"+
                        "</div>"+
                    "</div>"+
                "</div>"
            );
            $(".top-munu .down").hide();
            $('.ui.dropdown')
                .dropdown();
        })();


        function getUrl(){
            return location.href.split('/').pop();
        }

        function changeActive(topItem){
            $(".top-item").removeClass("active");
            topItem.addClass("active");
            $(".top-munu .active").css("border-color", "#1B1C1D");
        }

        function wait(){
            window.setTimeout(switchActive, 1);
        }

        function switchActive () {
            switch (getUrl()){
            case "":
            console.log(getUrl());
            changeActive($("a.p-top"));
            break;
            case "shout":
            changeActive($("a.p-shout"));
            break;
            case "register":
            changeActive($("a.p-register"));
            break;
            case "login":
            changeActive($("a.p-login"));
            break;
            case "post":
            changeActive($("a.p-post"));
            break;
            case "logout":
            changeActive($("a.p-logout"));
            break;
            default:
            console.log("何もない");
            break;
        }
        };

        wait();


        $("a.top-item").on("click", function(){
            aaa($(this));
            console.log($("a.p-top"));
            console.log($(this));
        });

        var switchNavUi = function(){
            var w = window.innerWidth;
            if(w > 690){
                $(".top-munu .down").hide();
                $(".top-munu .top-item").show();
            } else {
                $(".top-munu .top-item").hide();
                $(".top-munu .down").show();
            }
        };
        setInterval(switchNavUi, 10);
    })
</script>
{{end}}

{{ define "footer" }}
<footer>
    <p class="text-muted">ここにフッターを書く</p>
</footer>
{{end}}
